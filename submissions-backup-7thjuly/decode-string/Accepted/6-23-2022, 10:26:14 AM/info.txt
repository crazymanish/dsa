{"id":729159546,"lang":"swift","time":"2Â weeks","timestamp":1655972774,"status_display":"Accepted","runtime":"5 ms","url":"/submissions/detail/729159546/","is_pending":"Not Pending","title":"Decode String","memory":"14.1 MB","code":"class Solution {\n    func decodeString(_ s: String) -> String {\n        if s.isEmpty { return \"\" }\n\n        let stack = Stack()\n        var k = \"\"\n        \n        for char in s {\n            let stringInfo = StringInfo(char)\n            \n            if stringInfo.intValue == nil {\n                stack.push(StringInfo(k))\n                k = \"\"\n                handleNonIntStringInfo(stringInfo, stack)\n            } else {\n                k += stringInfo.string   \n            }\n        }\n\n        var output = \"\"\n        while stack.isEmpty == false {\n            output = stack.pop()!.string + output\n        }\n\n        return output\n    }\n    \n    private func handleNonIntStringInfo(_ stringInfo: StringInfo, _ stack: Stack) {\n        if stringInfo.isCloseBracket {\n            var bracketString = \"\"\n            while stack.top!.isOpenBracket == false {\n                bracketString = stack.pop()!.string + bracketString\n            }\n            stack.pop()\n\n            var calculatedString = \"\"\n            let count = stack.pop()!.intValue!\n            for _ in 0..<count {\n                calculatedString += bracketString\n            }\n            stack.push(StringInfo(calculatedString))\n        } else {\n            stack.push(stringInfo)\n        }\n    }\n}\n\nprivate class StringInfo {\n    let string: String\n\n    init(_ char: Character) {\n        self.string = String(char)\n    }\n\n    init(_ string: String) {\n        self.string = string\n    }\n\n    var isOpenBracket: Bool { string == \"[\" }\n    var isCloseBracket: Bool { string == \"]\" }\n    var intValue: Int? { Int(string) }\n}\n\nprivate class Stack {\n    private var array: [StringInfo] = []\n\n    var isEmpty: Bool { array.isEmpty }\n\n    var top: StringInfo? { array.last }\n\n    func push(_ element: StringInfo) {\n        array.append(element)\n    }\n\n    @discardableResult\n    func pop() -> StringInfo? {\n        if array.isEmpty { return nil }\n\n        return array.removeLast()\n    }\n}\n","compare_result":"1111111111111111111111111111111111","title_slug":"decode-string"}